import 'package:bounty_hub_client/data/models/api/response/token_response.dart';
import 'package:flutter_secure_storage/flutter_secure_storage.dart';

class AppData {
  AppData._privateConstructor();

  static final AppData _instance = AppData._privateConstructor();

  static AppData get instance => _instance;

  final _storage = FlutterSecureStorage();

  void saveAccessToken(TokenResponse data) {
    _storage.write(key: 'ACCESS_TOKEN', value: data.accessToken);
    _storage.write(key: 'USER_ID', value: data.userId);
  }

  Future<String> getAccessToken() async {
    // return 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbENvbmZpcm1lZCI6dHJ1ZSwidXNlcl9uYW1lIjoibnAubGluZGVudmFsbGV5QGdtYWlsLmNvbSIsInNjb3BlIjpbXSwicm9sZXMiOlsiUk9MRV9JTkZMVUVOQ0VSIl0sImV4cCI6MTYyMDc2MjczMSwidXNlcklkIjoiYWZjNTNjMWQtOWM2Ni00OTMwLTlmZGMtY2JmZGFmYjBiZTdkIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9JTkZMVUVOQ0VSIl0sImp0aSI6ImV5SmhiR2NpT2lKU1V6STFOaUlzSW5SNWNDSTZJa3BYVkNKOS5leUpsYldGcGJFTnZibVpwY20xbFpDSTZkSEoxWlN3aWRYTmxjbDl1WVcxbElqb2libkF1YkdsdVpHVnVkbUZzYkdWNVFHZHRZV2xzTG1OdmJTSXNJbk5qYjNCbElqcGJYU3dpY205c1pYTWlPbHNpVWs5TVJWOUpUa1pNVlVWT1EwVlNJbDBzSW1WNGNDSTZNVFl5TURjMk1qY3pNU3dpZFhObGNrbGtJam9pWVdaak5UTmpNV1F0T1dNMk5pMDBPVE13TFRsbVpHTXRZMkptWkdGbVlqQmlaVGRrSWl3aVlYVjBhRzl5YVhScFpYTWlPbHNpVWs5TVJWOUpUa1pNVlVWT1EwVlNJbDBzSW1wMGFTSTZJamhqTmpnMlkySmlMVGhpTWpJdE5ESXhaUzA1TmpVNExXRXhZVFpqWWpBMlpXSTJaaUlzSW1Oc2FXVnVkRjlwWkNJNklqWmtaV2R5WldWekxXRndjQ0o5LlhBWXIwRzUyZ09pc0xjNXFheEVBUDVMVk9Mc3FRQ2pEUXJEUjRpX0FYRjFxM1BxN1lHejEzd2ZKZ0tDOTZENDZheG5IQTVVYnpUVldUUGs2QWstcUZyNFZaVkRkRVRZTDBGV080UWd3dFJrZVhjdGpDUF9aSE5ORTdHOXBjRDhVdzd4YTBJeThPRTVDVkVUMU1NNlRXYUFtY2Z5aUI3Z3NvSlNBSnluZy1JLXNNbzBSUDgwd1R5UTBhcEpQb1djYXJFNGdJbE1KSTYybmFFV1VlbnBoUHlwUmtpLUdGQVI4SzZQSnVleXR0dXFqQlhCUWxzbWhHNEQxQ1JERGlzRTJNLWN1YThXNEh4b29lREh4cnZ6YUV5U18wVFhCSHktYk5BcW12TlhWSTFzMFpheEJad3JtejRUMllkckVzZEY1RGFNTUNMa0JYWFgzbnBsYV9nLXU1USIsImNsaWVudF9pZCI6IjZkZWdyZWVzLWFwcCJ9.Lc07Lpse32L2bZBuy5HgJA2o3GL8ACAg2QDEiixcPTKiWBXerwUJsPDH6AEpQayBPJ1aA2A4Tc7-FWotRxJy0-gm3YJMYL_u9JgufZc4FkF7h222-CTr4hJuKKoL5BLWy83DhHnU3vUia7MXLtST7YBmqe2rKq74yU4b-CsAjib4j_chzpm6IX2rlMS2WBIcZS0QM5MzrW9MOSedWR2_I0mUwvcOZbQsyiaChgY51eB80R2vOqsd5T_s5o0JZmgafXO4VvlzmcOgYxGgne6ZA39Xm36d32a9UpVFtZAVeF4-t8ePkUGo5GNtSv8DYplX6ZrO6ppXUNvNi4iPmEV-cg","token_type":"bearer","expires_in":15767999,"emailConfirmed":true,"roles":["ROLE_INFLUENCER"],"userId":"afc53c1d-9c66-4930-9fdc-cbfdafb0be7d","jti":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbENvbmZpcm1lZCI6dHJ1ZSwidXNlcl9uYW1lIjoibnAubGluZGVudmFsbGV5QGdtYWlsLmNvbSIsInNjb3BlIjpbXSwicm9sZXMiOlsiUk9MRV9JTkZMVUVOQ0VSIl0sImV4cCI6MTYyMDc2MjczMSwidXNlcklkIjoiYWZjNTNjMWQtOWM2Ni00OTMwLTlmZGMtY2JmZGFmYjBiZTdkIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9JTkZMVUVOQ0VSIl0sImp0aSI6IjhjNjg2Y2JiLThiMjItNDIxZS05NjU4LWExYTZjYjA2ZWI2ZiIsImNsaWVudF9pZCI6IjZkZWdyZWVzLWFwcCJ9.XAYr0G52gOisLc5qaxEAP5LVOLsqQCjDQrDR4i_AXF1q3Pq7YGz13wfJgKC96D46axnHA5UbzTVWTPk6Ak-qFr4VZVDdETYL0FWO4QgwtRkeXctjCP_ZHNNE7G9pcD8Uw7xa0Iy8OE5CVET1MM6TWaAmcfyiB7gsoJSAJyng-I-sMo0RP80wTyQ0apJPoWcarE4gIlMJI62naEWUenphPypRki-GFAR8K6PJueyttuqjBXBQlsmhG4D1CRDDisE2M-cua8W4HxooeDHxrvzaEyS_0TXBHy-bNAqmvNXVI1s0ZaxBZwrmz4T2YdrEsdF5DaMMCLkBXXX3npla_g-u5Q';
    return _storage.read(key: 'ACCESS_TOKEN');
  }

  Future<String> getUserId() async{
    // return '18ad835d-7983-4d5c-9d24-b53ac9352e37';
    return _storage.read(key: 'USER_ID');
  }
}

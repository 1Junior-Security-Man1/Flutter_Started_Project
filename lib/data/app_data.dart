import 'package:bounty_hub_client/data/models/api/response/token_response.dart';
import 'package:flutter_secure_storage/flutter_secure_storage.dart';

class AppData {
  AppData._privateConstructor();

  static final AppData _instance = AppData._privateConstructor();

  static AppData get instance => _instance;

  final _storage = FlutterSecureStorage();

  void saveAccessToken(TokenResponse data) {
    _storage.write(key: 'ACCESS_TOKEN', value: data.accessToken);
    _storage.write(key: 'USER_ID', value: data.userId);
  }

  Future<String> getAccessToken() async {
    // return 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbENvbmZpcm1lZCI6dHJ1ZSwidXNlcl9uYW1lIjoibnBAbGluZGVudmFsbGV5LmRlIiwic2NvcGUiOltdLCJyb2xlcyI6WyJST0xFX0FETUlOSVNUUkFUT1IiXSwiZXhwIjoxNjIwMjUwNTY3LCJ1c2VySWQiOiIxOGFkODM1ZC03OTgzLTRkNWMtOWQyNC1iNTNhYzkzNTJlMzciLCJhdXRob3JpdGllcyI6WyJST0xFX0FETUlOSVNUUkFUT1IiXSwianRpIjoiZXlKaGJHY2lPaUpTVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SmxiV0ZwYkVOdmJtWnBjbTFsWkNJNmRISjFaU3dpZFhObGNsOXVZVzFsSWpvaWJuQkFiR2x1WkdWdWRtRnNiR1Y1TG1SbElpd2ljMk52Y0dVaU9sdGRMQ0p5YjJ4bGN5STZXeUpTVDB4RlgwRkVUVWxPU1ZOVVVrRlVUMUlpWFN3aVpYaHdJam94TmpJd01qVXdOVFkzTENKMWMyVnlTV1FpT2lJeE9HRmtPRE0xWkMwM09UZ3pMVFJrTldNdE9XUXlOQzFpTlROaFl6a3pOVEpsTXpjaUxDSmhkWFJvYjNKcGRHbGxjeUk2V3lKU1QweEZYMEZFVFVsT1NWTlVVa0ZVVDFJaVhTd2lhblJwSWpvaU5EUTBOR0UyTTJVdFpEVmhNUzAwTjJOaExUa3hNek10TVRaa05qZGhaRGhoWTJNeUlpd2lZMnhwWlc1MFgybGtJam9pTm1SbFozSmxaWE10WVhCd0luMC5QbU5rdWVtMWEtMzR2a2hpWEpySkt2YlZhaVlKTHIzRXd3TnVDU0RyUFBFYk5fMUZHNkRkcEVMWC0xczNicXlIVjBST3NBWnpUaUo4ZXplOXVncXZRV0lCVVNEbU4xX21FS2tvQlFMN2tBYXV0T0dPcGxrUGJvVkU0ZV93aWZoOUMtNkFzN2hIODBxdk5sSWlPU1dpSkhjcnBrTm05YWRhb1JKczFTaGtZcFVQVUlQTmxOMjloTEpQcWh5am9GdjM3c2FwaFEtSThnZlBOa0RZYnRheENvVVo3eXNfdHB4bFE1S2V3UUJxY3pNY1FRbUliOGFrLXB5ZGhxeUEyNU5qVEpuZ3ZSSkptbVJyRC1EVDRhazVjdmhPaGhidHZPNml2RHM3eEgyVlg4YnJZczVWYTlfem1uNjc5cUlXam1TY3doLVR4NFF0TVV2NEQxaERsMUFGZHciLCJjbGllbnRfaWQiOiI2ZGVncmVlcy1hcHAifQ.DIHdJtfjXU9zdu3AbC3iiwIJ5UXjBS47Xr0SZscT2WkbWTZ50HuwCvue7Da1xSEc3fXCpnqMwasGlO7vAb8aX1DR1cAaLF35N_BfJo13bbNxNNR73s9L6WLIG7fqDonfIZukWKY0cQHnOPByS3phgjbmu5pokqrqHTS_TwRyhhv6qYJd9XNEFyxUD94_uuCT0LRhpDnXrjUJk3nXdwPsJixaCB_fJcIbExO7nkbHfLRXNZJcLdfOSZzstGJATFzxrLLNuE9iG3GZSvvRizoNq3NEDY7OydnTVE5OhKybTIev8ECShlN4USrYwX-6v7521IyIUIDhTi5RrG2Ni2JLBA';
    return _storage.read(key: 'ACCESS_TOKEN');
  }

  Future<String> getUserId() {
    // return '18ad835d-7983-4d5c-9d24-b53ac9352e37';
    return _storage.read(key: 'USER_ID');
  }
}
